<html>
  <head>
    <script>
            
      function json(url) {
  return fetch(url).then(res => res.json());
}

let apiKey = '7d2f25dc8ceb1b67d9357a0825d02d41046378a6184421a2f4ccd178';
json(`https://api.ipdata.co?api-key=${apiKey}`).then(data => {
  document.getElementById("ip").innerHTML = "Your IP Address is " + data.ip;
  document.getElementById("city").innerHTML = "Your City is " + data.city;
  document.getElementById("cc").innerHTML = "Your Country Code is " + data.country_code;
  // so many more properties
});
      
      
      var firebaseConfig = {
  apiKey: "AIzaSyCYgieNluU4atVEYhCcUY5GC78eqYXBYsA",
  authDomain: "retro-games-network.firebaseapp.com",
  databaseURL: "https://retro-games-network-default-rtdb.firebaseio.com",
  projectId: "retro-games-network",
  storageBucket: "retro-games-network.appspot.com",
  messagingSenderId: "1025542945363",
  appId: "1:1025542945363:web:c4d81a05a8a9d8809564a6"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// initialize database
const db = firebase.database();
      
      function sendMessage(e) {
  e.preventDefault();
        
        const LOGON_TIME = Date.now();
        const IP_ADDRESS = data.ip;
        const CITY = data.city
        const COUNTRY = data.country_code;
        
        
        // create db collection and send in the data
  db.ref("user-data/" + timestamp).set({
    IP_ADDRESS,
    CITY,
    COUNTRY,
    LOGON_TIME,
  });
}

    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto&display=swap" rel="stylesheet">
<style>
body {
font-family: 'Montserrat', sans-serif;
padding: 10px;
}
  #ip {
    font-family: 'Montserrat', sans-serif;
    font-size: small;
  }
  #city {
    font-family: 'Montserrat', sans-serif;
    font-size: small;
  }
  #cc {
    font-family: 'Montserrat', sans-serif;
    font-size: small;
  }
</style>
    <title>Log IP | Secure Portal | Retro Games Network</title>
  </head>
  <body>
    <h1>Welcome to the Secure RGN Portal</h1><hr>
    <div id="ip"></div><br>
    <div id="city"></div><br>
    <div id="cc"></div>
  </body>
    </html>
